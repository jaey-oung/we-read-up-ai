<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>WE READ UP - 홈페이지</title>
    <link rel="icon" href="/img/read-up-logo.png" type="text/png">
    <link rel="stylesheet" href="/css/fragments/header.css">
    <link rel="stylesheet" href="/css/fragments/footer.css">
    <link rel="stylesheet" href="/css/fragments/nav.css">
    <link rel="stylesheet" href="/css/home.css">
</head>
<body th:attr="data-msg=${msg}">
<!-- 독서 성향 테스트 시작 팝업 -->
<div id="popup-container">
    <div class="popup-box">
        <button id="popup-close-btn">&times;</button>
        <h2>📚 당신의 독서 성향은?</h2>
        <p class="popup-intro-text">※ 당신의 독서 취향에 따른 성향 유형을 분석해 드릴게요!</p>
        <p class="popup-description">당신에게 꼭 맞는 책을 추천해드릴게요!</p>
        <button id="popup-start-btn">설문 시작하기</button>
    </div>
</div>

<!-- 독서 성향 테스트 질문 컨테이너 -->
<div id="questions-container">
    <div class="popup-box">
        <button id="ques-close-btn">&times;</button>
        <h2>어떤 쪽을 더 선호하시나요?</h2>

        <!-- 진행 상태 표시 -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
            <div class="progress-text">1/4</div>
        </div>

        <!-- 질문 1: 현실/상상 (S/I) -->
        <div class="question-container active" id="q1">
            <p class="question-text" data-question="1">
                실제 이야기를 바탕으로 한 논픽션이 끌리시나요?<br>아니면 상상력이 돋보이는 픽션이 끌리시나요?
                <button class="nav-btn next-btn">&gt;</button>
            </p>
            <div class="ques-body">
                <div class="choice-container">
                    <div class="scale-label left">현실 기반</div>
                    <div class="scale-container" data-left-code="S" data-right-code="I">
                        <div class="scale-option">1</div>
                        <div class="scale-option">2</div>
                        <div class="scale-option">3</div>
                        <div class="scale-option">4</div>
                        <div class="scale-option">5</div>
                    </div>
                    <div class="scale-label right">상상 기반</div>
                </div>
            </div>
        </div>

        <!-- 질문 2: 감성/정보 (F/D) -->
        <div class="question-container" id="q2">
            <p class="question-text" data-question="2">
                <button class="nav-btn prev-btn">&lt;</button>
                감성과 분위기가 중요하신가요?<br>아니면 정보와 전문성이 중요하신가요?
                <button class="nav-btn next-btn">&gt;</button>
            </p>
            <div class="ques-body">
                <div class="choice-container">
                    <div class="scale-label left">감성 중심</div>
                    <div class="scale-container" data-left-code="F" data-right-code="D">
                        <div class="scale-option">1</div>
                        <div class="scale-option">2</div>
                        <div class="scale-option">3</div>
                        <div class="scale-option">4</div>
                        <div class="scale-option">5</div>
                    </div>
                    <div class="scale-label right">정보 중심</div>
                </div>
            </div>
        </div>

        <!-- 질문 3: 이야기/메시지 (N/M) -->
        <div class="question-container" id="q3">
            <p class="question-text" data-question="3">
                <button class="nav-btn prev-btn">&lt;</button>
                이야기의 전개와 인물에 집중하시나요?<br>아니면 작품의 주제와 메시지에 집중하시나요?
                <button class="nav-btn next-btn">&gt;</button>
            </p>
            <div class="ques-body">
                <div class="choice-container">
                    <div class="scale-label left">이야기 몰입</div>
                    <div class="scale-container" data-left-code="N" data-right-code="M">
                        <div class="scale-option">1</div>
                        <div class="scale-option">2</div>
                        <div class="scale-option">3</div>
                        <div class="scale-option">4</div>
                        <div class="scale-option">5</div>
                    </div>
                    <div class="scale-label right">메시지 중심</div>
                </div>
            </div>
        </div>

        <!-- 질문 4: 목표/자유 (Q/A) -->
        <div class="question-container" id="q4">
            <p class="question-text" data-question="4">
                <button class="nav-btn prev-btn">&lt;</button>
                목적을 가지고 책을 선택하시나요?<br>아니면 흥미가 가는 대로 선택하시나요?
            </p>
            <div class="ques-body">
                <div class="choice-container">
                    <div class="scale-label left">목표 중심</div>
                    <div class="scale-container" data-left-code="Q" data-right-code="A">
                        <div class="scale-option">1</div>
                        <div class="scale-option">2</div>
                        <div class="scale-option">3</div>
                        <div class="scale-option">4</div>
                        <div class="scale-option">5</div>
                    </div>
                    <div class="scale-label right">자유 탐색</div>
                </div>
            </div>
            <button id="submit-btn">제출</button>
        </div>
    </div>
</div>
<div th:replace="~{fragments/header :: header}"></div>
<section class="new-books">
    <div id="h-slider-1" class="h-slider">
        <div class="h-slide-container">
            <div class="h-slider-body">
            </div>
            <div id="slide-control">
                <button type="button" class="slide-control-button" id="pause-button">❚❚</button>
                <button type="button" class="slide-control-button" id="play-button" style="display:none">▶</button>
                <div id="slider-bottom-text">
                    <a href="#" id="h-slide-prev">❮</a>
                    <span id="h-slide-number"></span>
                    <a href="#" id="h-slide-next">❯</a>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="book-ranking">
    <div class="ranking-header">
        <div>
            <span class="ranking-title">주간 랭킹</span>
            <span class="ranking-subtitle">최근 1주일 동안 집계</span>
        </div>
    </div>
    <div class="product-grid">
        <div class="ranking_books" th:each="book : ${rankedBooks}" >
            <a th:href="@{'/bookDetail?bookId='+${book.bookAndCategory.bookId}}">
                <img th:src="${book.bookAndCategory.image}" th:alt="${book.bookAndCategory.name}">
            </a>
            <div id="book-text">
                <p class="ranking-book-category" th:text="${book.bookAndCategory.categoryMediumName} + '/' + ${book.bookAndCategory.categorySmallName}">카테고리</p>
                <a id="ranking-book-name" th:href="@{'/bookDetail?bookId='+${book.bookAndCategory.bookId}}">
                    <p class="ranking-book-name" th:text="${book.bookAndCategory.name}">도서명</p>
                </a>
                <p class="ranking-book-writers" id="ranking-book-writers">
                    <th:block th:each="writer, iterStat : ${book.writers}">
                        <span th:text="${writer}">저자명</span>
                        <span th:if="!${iterStat.last}">,</span>
                    </th:block>
                </p>
            </div>
        </div>
    </div>
</section>
<div th:replace="~{fragments/footer :: footer}"></div>
<script src="/js/home.js"></script>
<script src="/js/home-slider.js"></script>
<script src="/js/display-msg.js"></script>
</body>
</html>