# RAG
# pdf, txt, html 기반으로 LLM 모델이 답변할 수 있도록 하는 구조

# 환불
# 일반 GPT : 우리의 환불 약관과 상관없는 답변
# RAG GPT : 우리의 환불 약관을 기반으로 답변

# 내가 구매한 상품목록들 뽑아주고, 최근 3개월 가장 많이 구매한 상품 알려줘(DB에서 SQL 조회한 데이터를 LLM에 전달)

from langchain_upstage import UpstageLayoutAnalysisLoader
lazer = UpstageLayoutAnalysisLoader(
    "ai-agent.pdf", use_ocr=False, output_type='html'
)

docs = lazer.load()
docs

from langchain_text_splitters import (Language, RecursiveCharacterTextSplitter)

text_splitter = RecursiveCharacterTextSplitter.from_language(
    chunk_size = 1000, chunk_overlap = 100, language=Language.HTML
)

splits = text_splitter.split_documents(docs)
splits